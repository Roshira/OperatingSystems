Що відбувається, коли у файловій системі закінчуються блоки даних (наприклад, при запуску з прапорцем -d 2)? Які операції не виконуються, і які файли в результаті опиняються в системі?


Без проблем! Ось переклад відповіді українською мовою, яку ви можете використати для звіту:

Запитання: Що відбувається, коли у файловій системі закінчуються блоки даних (наприклад, при запуску з прапорцем -d 2)? Які операції не виконуються, і які файли в результаті опиняються в системі?

Відповідь:

Коли вичерпується запас вільних блоків даних, спостерігається така поведінка:

Операції, що завершуються помилкою (Fail):

write(): Будь-яка спроба записати дані у файл не вдається. Запис вимагає виділення нового блоку даних, а карта блоків (data bitmap) вже повністю заповнена.

mkdir(): Створення нових каталогів стає неможливим, оскільки кожен каталог потребує мінімум одного блоку даних для зберігання посилань на себе (.) та батька (..).

Операції, що виконуються успішно:

creat(): Створення нових порожніх файлів продовжує працювати успішно. Це можливо тому, що порожній файл споживає лише іноду (inode), а іноди все ще доступні (закінчилися тільки блоки даних).

Кінцевий стан файлової системи:

Система заповнюється великою кількістю порожніх файлів.

У конкретній реалізації цього симулятора (vsfs.py) симуляція врешті-решт аварійно завершується (помилка AssertionError). Це стається тому, що кореневий каталог заповнюється (ліміт — 10 записів), і система не може виділити новий блок даних, щоб розширити список файлів у каталозі.
